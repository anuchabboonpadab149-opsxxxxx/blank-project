import random


EMOJIS_SWEET = ["üíñ", "üíï", "ü•∞", "üòö", "üíû", "üòç"]
EMOJIS_FLIRTY = ["üòâ", "üòè", "ü§≠", "ü§§"]
EMOJIS_PLAYFUL = ["üòú", "üôà", "‚ú®", "üí´"]
EMOJIS_LIGHT_SAUCE = ["üí¶"]  # use sparingly

HASHTAGS_BASE = [
    "#BeeBell",
    "#‡∏£‡∏±‡∏Å‡πÄ‡∏ö‡∏•‡∏•‡πå",
    "#‡∏à‡∏µ‡∏ö‡πÄ‡∏•‡πà‡∏ô‡πÜ",
    "#‡∏Ç‡∏≥‡∏Ç‡∏±‡∏ô",
    "#‡∏´‡∏ß‡∏¥‡∏ß‡πÄ‡∏ö‡∏≤‡πÜ",
]


OPENERS = [
    "‡πÅ‡∏≠‡∏ö‡∏Å‡∏£‡∏∞‡∏ã‡∏¥‡∏ö...",
    "‡∏à‡∏∏‡πä‡πÜ...",
    "‡∏Ç‡∏≠‡∏´‡∏¢‡∏≠‡∏î‡∏´‡∏ô‡πà‡∏≠‡∏¢...",
    "‡∏Ñ‡∏∑‡∏ô‡∏ô‡∏µ‡πâ‡∏Ç‡∏≠‡∏´‡∏ß‡∏≤‡∏ô‡∏´‡∏ô‡πà‡∏≠‡∏¢...",
    "‡πÄ‡∏ä‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡πÄ‡∏ö‡∏•‡∏•‡πå‡∏à‡∏±‡∏á...",
    "‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏´‡∏±‡∏ß‡πÉ‡∏à‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏ö‡∏•‡∏•‡πå‡∏ô‡∏∞...",
]

CORE_LOVE = [
    "‡∏£‡∏±‡∏Å‡πÄ‡∏ö‡∏•‡∏•‡πå‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡πÅ‡∏ü‡πÅ‡∏Å‡πâ‡∏ß‡πÇ‡∏õ‡∏£‡∏î",
    "‡πÄ‡∏ö‡∏•‡∏•‡πå‡∏Ñ‡∏∑‡∏≠‡∏ß‡∏¥‡∏ï‡∏≤‡∏°‡∏¥‡∏ô‡πÉ‡∏à‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤",
    "‡πÄ‡∏à‡∏≠‡πÄ‡∏ö‡∏•‡∏•‡πå‡∏ó‡∏µ‡πÑ‡∏£ ‡πÉ‡∏à‡∏°‡∏±‡∏ô‡πÄ‡∏ï‡πâ‡∏ô‡πÅ‡∏£‡∏á‡∏ó‡∏∏‡∏Å‡∏ó‡∏µ",
    "‡πÇ‡∏•‡∏Å‡∏ó‡∏±‡πâ‡∏á‡πÉ‡∏ö‡∏¢‡∏±‡∏á‡πÅ‡∏û‡πâ‡∏£‡∏≠‡∏¢‡∏¢‡∏¥‡πâ‡∏°‡∏Ç‡∏≠‡∏á‡πÄ‡∏ö‡∏•‡∏•‡πå",
    "‡πÄ‡∏ö‡∏•‡∏•‡πå‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∞‡∏°‡∏∏‡∏ô‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô",
    "‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á... ‡πÅ‡∏Ñ‡πà‡∏Ñ‡∏¥‡∏î‡∏ñ‡∏∂‡∏á‡∏°‡∏≤‡∏Å‡∏°‡∏≤‡∏Å‡∏°‡∏≤‡∏Å",
]

PLAYFUL_ADDONS = [
    "‡∏ó‡∏≥‡∏ï‡∏±‡∏ß‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ ‡∏£‡∏∞‡∏ß‡∏±‡∏á‡πÇ‡∏î‡∏ô‡∏´‡∏¢‡∏≠‡∏î‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡∏ô‡∏∞",
    "‡∏≠‡∏¢‡πà‡∏≤‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ß‡∏≤‡∏ô ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡πÇ‡∏î‡∏ô‡∏Ç‡∏≠‡∏´‡∏≠‡∏°‡∏à‡∏£‡∏¥‡∏á‡πÜ",
    "‡∏ñ‡πâ‡∏≤‡∏£‡∏±‡∏Å‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏Å‡∏°... ‡πÄ‡∏£‡∏≤‡∏Ç‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡πÜ‡πÄ‡∏ö‡∏•‡∏•‡πå‡∏ï‡∏•‡∏≠‡∏î‡πÑ‡∏õ",
    "‡∏ñ‡πâ‡∏≤‡∏Å‡∏≠‡∏î‡πÑ‡∏î‡πâ‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡∏à‡∏∞‡∏Å‡∏≠‡∏î‡∏à‡∏ô‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡πÉ‡∏à‡πÄ‡∏£‡∏≤‡πÄ‡∏ï‡πâ‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏Ñ‡∏£",
    "‡∏¢‡∏≠‡∏°‡πÅ‡∏û‡πâ‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡πà‡∏≤‡πÄ‡∏ö‡∏•‡∏•‡πå",
    "‡πÄ‡∏£‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏Å‡πà‡∏á‡πÄ‡∏•‡∏Ç ‡πÅ‡∏ï‡πà‡πÄ‡∏Å‡πà‡∏á‡∏£‡∏±‡∏Å‡πÄ‡∏ö‡∏•‡∏•‡πå‡∏ô‡∏∞",
]

LIGHT_SPICY = [
    "‡∏Ç‡∏≠‡∏´‡∏≠‡∏°‡πÅ‡∏Å‡πâ‡∏°‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ó‡∏µ‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°",
    "‡∏ó‡∏≥‡πÄ‡∏ö‡∏≤‡πÜ‡∏´‡∏ô‡πà‡∏≠‡∏¢ ‡πÄ‡∏î‡∏µ‡πã‡∏¢‡∏ß‡πÉ‡∏à‡πÄ‡∏£‡∏≤‡πÑ‡∏´‡∏ß‡πÑ‡∏°‡πà‡∏ó‡∏±‡∏ô",
    "‡∏Ñ‡∏∑‡∏ô‡∏ô‡∏µ‡πâ‡∏î‡∏≤‡∏ß‡∏≠‡∏≤‡∏à‡πÑ‡∏°‡πà‡∏û‡∏≠... ‡∏Ç‡∏≠‡πÄ‡∏ö‡∏•‡∏•‡πå‡πÅ‡∏ó‡∏ô‡πÑ‡∏î‡πâ‡πÑ‡∏´‡∏°",
    "‡∏Å‡∏≠‡∏î‡πÅ‡∏ô‡πà‡∏ô‡πÜ‡∏à‡∏ô‡πÄ‡∏ä‡πâ‡∏≤‡πÄ‡∏•‡∏¢‡∏î‡∏µ‡πÑ‡∏´‡∏°",
    "‡∏ä‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∞‡∏°‡∏∏‡∏ô... ‡πÅ‡∏ï‡πà‡∏Ç‡∏µ‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ô‡∏¥‡∏î‡πÜ‡∏ô‡∏∞",
]


def pick(seq):
    return random.choice(seq)


def build_hashtags():
    tags = HASHTAGS_BASE[:]
    random.shuffle(tags)
    return " ".join(tags[:random.randint(2, 4)])


def generate_caption(sender_name="Bee&Bell"):
    opener = pick(OPENERS)
    core = pick(CORE_LOVE)
    playful = pick(PLAYFUL_ADDONS)
    spicy = pick(LIGHT_SPICY) if random.random() < 0.7 else ""
    emojis = []
    emojis += random.sample(EMOJIS_SWEET, k=2)
    if random.random() < 0.8:
        emojis.append(pick(EMOJIS_FLIRTY))
    if random.random() < 0.5:
        emojis.append(pick(EMOJIS_PLAYFUL))
    if spicy and random.random() < 0.3:
        emojis.append(pick(EMOJIS_LIGHT_SAUCE))

    parts = [
        f"{opener} {core} {' '.join(emojis)}",
        playful,
        spicy,
        build_hashtags(),
        f"‚Äî {sender_name}",
    ]
    # Remove empty parts and join
    text = " ".join([p for p in parts if p])
    # Trim to ~270 chars for safety
    if len(text) > 270:
        text = text[:267] + "..."
    return text