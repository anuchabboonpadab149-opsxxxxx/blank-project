<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>อ.โทนี่สะท้อนกรรม | ดูดวงไพ่ยิปซีออนไลน์</title>
  <meta name="description" content="อ.โทนี่สะท้อนกรรม — เว็บดูดวงไพ่ยิปซีออนไลน์ สับไพ่จริง เปิดไพ่ 1 ใบ, 4 ใบ, Celtic Cross และ 10 ใบ พร้อมดวงรายวัน รายเดือน รายปี เลือกหัวข้อ การเงิน การงาน ความรัก โชคลาภ บริวาร สุขภาพ" />
  <meta name="theme-color" content="#151320" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@300;400;500;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./styles.css" />
</head>

<body>
  <header class="site-header">
    <div class="container header-inner">
      <div class="brand">
        <div class="brand-mark">♠︎</div>
        <div class="brand-text">
          <h1>อ.โทนี่สะท้อนกรรม</h1>
          <p class="subtitle">เว็บดูดวงไพ่ยิปซีสับไพ่จริง เหมือนจับไพ่ด้วยมือ</p>
        </div>
      </div>
      <nav class="nav">
        <a href="#reading">ดูไพ่ยิปซี</a>
        <a href="#daily">ดวงรายวัน/เดือน/ปี</a>
        <a href="#seamsee">เซียมซี</a>
        <a href="#guide">วิธีใช้งาน</a>
      </nav>
      <div class="account" id="accountPanel">
        <!-- Filled by JS -->
        <button id="loginBtn" class="primary">เข้าสู่ระบบ/สมัครสมาชิก</button>
      </div>
    </div>
  </header>

  <section class="hero">
    <div class="container hero-inner">
      <div class="hero-text">
        <h2>ตั้งสมาธิ • สับไพ่ • ตัดไพ่ • เลือกไพ่</h2>
        <p>
          ออกแบบประสบการณ์เหมือนสับไพ่จริง ไม่ใช่แค่แอนิเมชัน
          รองรับการอ่านไพ่หลากหลาย: 1 ใบ, 4 ใบ, Celtic Cross และ 10 ใบ
        </p>
        <div class="inspired">
          <span>แรงบันดาลใจจาก:</span>
          <ul>
            <li>มายโหรา (myhora) – ดูดวงฟรีหลายหัวข้อ</li>
            <li>ชาตริกซ์เก็ต (changtrixget) – เปิดไพ่ 10 ใบ ทำนายตรงๆ</li>
            <li>ชิทสึเรนทาโร่ – สับไพ่จริง เลือกไพ่ได้ตามใจ</li>
          </ul>
        </div>
      </div>
      <div class="hero-art">
        <div class="card-stack">
          <div class="card back"></div>
          <div class="card back"></div>
          <div class="card back"></div>
          <div class="card back"></div>
        </div>
      </div>
    </div>
  </section>

  <main class="main">
    <!-- Tarot Reading -->
    <section id="reading" class="section">
      <div class="container">
        <h3>เลือกรูปแบบการอ่านไพ่</h3>
        <div class="controls">
          <div class="control-group">
            <label for="userName">ชื่อ (ใส่หรือไม่ใส่ก็ได้)</label>
            <input id="userName" type="text" placeholder="เช่น กานต์, Pim, etc." />
          </div>
          <div class="control-group">
            <label for="readingType">รูปแบบการอ่าน</label>
            <select id="readingType">
              <option value="single">ไพ่ 1 ใบ (คำตอบเร็ว)</option>
              <option value="four">ไพ่ 4 ใบ (รัก/งาน/เงิน/สุขภาพ)</option>
              <option value="celtic">Celtic Cross (10 ใบ)</option>
              <option value="ten">ไพ่ 10 ใบ (วงจรชีวิต)</option>
            </select>
          </div>
          <div class="control-group inline">
            <button id="focusBtn" class="ghost">ตั้งสมาธิ</button>
            <button id="shuffleBtn">สับไพ่</button>
            <button id="cutBtn" class="ghost">ตัดไพ่</button>
            <button id="startReadingBtn" class="primary">เริ่มเปิดไพ่ (ใช้ 1 สิทธิ์)</button>
          </div>
          <p class="note">หมายเหตุ: การอ่านไพ่ทุกแบบใช้สิทธิ์ 1 ครั้งต่อการอ่าน</p>
        </div>

        <div class="deck-area">
          <div id="deck" class="deck"></div>
          <div id="spreadBoard" class="spread-board hidden"></div>
        </div>

        <div class="results">
          <h4>ผลการอ่าน</h4>
          <div id="resultsList" class="results-list"></div>
        </div>
      </div>
    </section>

    <!-- Daily/Monthly/Yearly -->
    <section id="daily" class="section alt">
      <div class="container">
        <h3>ดูดวงรายวัน/เดือน/ปี (เลือกหัวข้อได้)</h3>
        <p class="note">สไตล์ MyHora: เลือกหัวข้อและเปิดไพ่ 1 ใบต่อหัวข้อ ใช้การสุ่มแบบมีเมล็ดตามวันที่ — การเปิดผลลัพธ์นี้ใช้สิทธิ์ 1 ครั้ง</p>
        <div class="daily-controls">
          <div class="control-group">
            <label for="dailyScope">ช่วงเวลา</label>
            <select id="dailyScope">
              <option value="day">รายวัน</option>
              <option value="month">รายเดือน</option>
              <option value="year">รายปี</option>
            </select>
          </div>
          <div class="control-group">
            <label for="topics">หัวข้อที่สนใจ</label>
            <div class="topics">
              <label><input type="checkbox" value="การเงิน" checked /> การเงิน</label>
              <label><input type="checkbox" value="โชคลาภ" checked /> โชคลาภ</label>
              <label><input type="checkbox" value="การงาน" checked /> การงาน</label>
              <label><input type="checkbox" value="ความรัก" checked /> ความรัก</label>
              <label><input type="checkbox" value="บริวาร" /> บริวาร</label>
              <label><input type="checkbox" value="สุขภาพ" /> สุขภาพ</label>
            </div>
          </div>
          <div class="control-group inline">
            <button id="dailyReadBtn" class="primary">เปิดไพ่ตามหัวข้อ (ใช้ 1 สิทธิ์)</button>
          </div>
        </div>
        <div id="dailyResults" class="results-list"></div>
      </div>
    </section>

    <!-- Siemsee -->
    <section id="siemsee" class="section alt">
      <div class="container">
        <h3>เขย่าเซียมซีตามวัด</h3>
        <p class="note">หยิบใบเซียมซี 1 ครั้ง ใช้ 1 สิทธิ์ — ระบบจะเพิ่ม/ลดสิทธิ์โดยอัตโนมัติ</p>

        <div class="controls">
          <div class="control-group">
            <label for="siemseeName">ชื่อ (ใส่หรือไม่ใส่ก็ได้)</label>
            <input id="siemseeName" type="text" placeholder="เช่น ผู้ศรัทธา" />
          </div>
          <div class="control-group inline">
            <button id="siemseeShakeBtn" class="ghost">เขย่าเซียมซี</button>
            <button id="siemseeDrawBtn" class="primary">หยิบใบเซียมซี (ใช้ 1 สิทธิ์)</button>
          </div>
        </div>

        <div class="siemsee-zone">
          <div class="siemsee-visual">
            <div id="siemseeCylinder" class="siemsee-cylinder">
              <!-- sticks visualized via CSS -->
            </div>
          </div>
          <div class="siemsee-results">
            <h4>ผลใบเซียมซี</h4>
            <div id="siemseeResult" class="results-list"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Siemsee (เซียมซี) -->
    <section id="seamsee" class="section alt">
      <div class="container">
        <h3>เซียมซีตามวัด (เขย่ากระบอกให้ไม้ตก)</h3>
        <p class="note">รูปแบบการเสี่ยงเน้นประสบการณ์เหมือนวัดจริง: เขย่ากระบอกแล้วไม้ตก ได้หมายเลขใบเซียมซีพร้อมคำทำนายหมวดต่างๆ</p>
        <div class="controls">
          <div class="control-group">
            <label for="siemseeName">ชื่อ (ช่วยตั้งเมล็ดสุ่ม)</label>
            <input id="siemseeName" type="text" placeholder="ชื่อผู้ถาม" />
          </div>
          <div class="control-group">
            <label for="siemseeTemple">รูปแบบ/วัด</label>
            <select id="siemseeTemple">
              <option value="standard">แบบวัดทั่วไป (60 ใบ)</option>
              <option value="watpho">วัดโพธิ์ (ต้นแบบ 60 ใบ)</option>
            </select>
          </div>
          <div class="control-group inline">
            <button id="seamseeShakeBtn" class="ghost">เขย่ากระบอก</button>
            <button id="siemseeDrawBtn" class="primary">เสี่ยงเซียมซี (ใช้ 1 สิทธิ์)</button>
          </div>
          <p class="note">หมายเหตุ: การเสี่ยงเซียมซี 1 ครั้ง ใช้สิทธิ์ 1 ครั้ง</p>
        </div>

        <div class="siemsee-zone">
          <div class="siemsee-visual">
            <div id="siemseeCylinder" class="siemsee-cylinder"></div>
          </div>
          <div id="siemseeResult" class="results-list"></div>
        </div>
      </div>
    </section>

    <!-- Guide -->
    <section id="guide" class="section">
      <div class="container">
        <h3>ข้อควรจำในการดูดวง</h3>
        <ul class="guide-list">
          <li><strong>ตั้งสมาธิ:</strong> ให้จิตสงบก่อนเปิดไพ่ จะช่วยให้การทำนายชัดเจน</li>
          <li><strong>ความละเอียด:</strong> เลือกไพ่เมื่อพร้อม หากมีสิ่งรบกวน ควรค่อยกลับมาใหม่</li>
          <li><strong>ความหมายของไพ่:</strong> การอ่านไพ่ประกอบด้วยการเปิดไพ่และตีความไพ่แต่ละใบ</li>
        </ul>
        <p class="disclaimer">
          หมายเหตุ: ผลการอ่านเป็นแนวทางในการไตร่ตรอง ไม่ใช่คำตัดสินเด็ดขาด โปรดใช้วิจารณญาณและฟังหัวใจของตนเอง
        </p>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container footer-inner">
      <div>
        © 2025 อ.โทนี่สะท้อนกรรม — สร้างสรรค์ประสบการณ์ดูไพ่ยิปซีออนไลน์
      </div>
      <div class="footer-links">
        <a href="#reading">ดูไพ่</a>
        <a href="#daily">ดวงรายวัน/เดือน/ปี</a>
        <a href="#guide">คู่มือ</a>
      </div>
    </div>
  </footer>

  <!-- Auth Modal -->
  <div id="modalOverlay" class="modal-overlay hidden"></div>
  <div id="authModal" class="modal hidden">
    <div class="modal-header">
      <h4>เข้าสู่ระบบ / สมัครสมาชิก</h4>
      <button class="close" id="authClose">✕</button>
    </div>
    <div class="modal-body">
      <div class="tabs">
        <button id="tabLogin" class="tab active">เข้าสู่ระบบ</button>
        <button id="tabSignup" class="tab">สมัครสมาชิก</button>
      </div>
      <div id="loginPane" class="pane">
        <div class="form-grid">
          <label>เบอร์มือถือ (ใช้เข้าสู่ระบบ)
            <input id="loginPhone" type="tel" placeholder="เช่น 0916974995" />
          </label>
          <label>รหัสผ่าน
            <input id="loginPassword" type="password" placeholder="รหัสผ่าน" />
          </label>
        </div>
        <button id="doLogin" class="primary">เข้าสู่ระบบ</button>
      </div>
      <div id="signupPane" class="pane hidden">
        <div class="form-grid">
          <label>ชื่อที่แสดง
            <input id="signupName" type="text" placeholder="เช่น ผู้ศรัทธา" />
          </label>
          <label>เบอร์มือถือ (PromptPay)
            <input id="signupPhone" type="tel" placeholder="เช่น 0916974995" />
          </label>
          <label>รหัสผ่าน
            <input id="signupPassword" type="password" placeholder="รหัสผ่าน" />
          </label>
        </div>
        <button id="doSignup" class="primary">สมัครสมาชิก</button>
      </div>
      <p class="note">สมาชิกจำเป็นต้องมีสิทธิ์เพื่อใช้งาน: การอ่านแต่ละครั้งใช้ 1 สิทธิ์</p>
    </div>
  </div>

  <!-- Topup Modal -->
  <div id="topupModal" class="modal hidden">
    <div class="modal-header">
      <h4>โปรโมชั่นเติมสิทธิ์</h4>
      <button class="close" id="topupClose">✕</button>
    </div>
    <div class="modal-body">
      <div class="package-grid" id="packageGrid">
        <!-- filled by JS -->
      </div>
      <div id="paymentPane" class="hidden">
        <div class="payment-info">
          <div id="selectedPackageText"></div>
          <div class="qr-wrap">
            <img id="qrImage" alt="PromptPay QR" />
          </div>
          <div class="help">
            สแกนชำระผ่านพร้อมเพย์ เบอร์ 091-697-4995
          </div>
          <div class="ref">
            รหัสรายการ: <span id="orderId"></span>
          </div>
          <div class="inline-actions">
            <button id="verifyBtn" class="primary">ตรวจสอบการชำระเงินอัตโนมัติ</button>
            <button id="cancelTopup" class="ghost">เลือกแพ็กเกจใหม่</button>
          </div>
          <p class="note">ระบบจะตรวจสอบและเพิ่มสิทธิ์ทันทีเมื่อชำระสำเร็จ</p>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Configure backend API origin
    // Change to your deployed server origin (e.g., https://your-domain.com)
    window.API_BASE = window.API_BASE || "http://localhost:3000";
  </script>
  <script src="./app.js"></script>
</body>
</html>